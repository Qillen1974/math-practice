<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Practice - Step by Step</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: #4a5568;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 5px;
        }
        
        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 20px;
            background: #f7fafc;
        }
        
        .mode-btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .mode-btn.active {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }
        
        .mode-btn:not(.active) {
            background: #e2e8f0;
            color: #4a5568;
        }
        
        .practice-area {
            padding: 30px;
        }
        
        .problem-display {
            background: #f7fafc;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .problem {
            font-size: 3rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
        }
        
        .steps-container {
            min-height: 200px;
        }
        
        .step {
            background: #edf2f7;
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            font-size: 1.5rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideIn 0.5s forwards;
        }
        
        .step.correct {
            background: #c6f6d5;
            border-left: 5px solid #48bb78;
        }
        
        .step.incorrect {
            background: #fed7d7;
            border-left: 5px solid #f56565;
        }
        
        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .input-area {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .answer-input {
            padding: 15px 20px;
            font-size: 1.5rem;
            border: 3px solid #e2e8f0;
            border-radius: 10px;
            width: 150px;
            text-align: center;
            transition: border-color 0.3s;
        }
        
        .answer-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .submit-btn {
            padding: 15px 30px;
            font-size: 1.2rem;
            background: #48bb78;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }
        
        .submit-btn:hover {
            transform: scale(1.05);
        }
        
        .feedback {
            text-align: center;
            font-size: 1.5rem;
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
        }
        
        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
        }
        
        .next-btn {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            font-size: 1.2rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }
        
        .score {
            text-align: center;
            font-size: 1.2rem;
            color: #718096;
            padding: 10px;
        }
        
        .animation-area {
            background: #1a202c;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            min-height: 250px;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .animation-step {
            font-size: 2rem;
            margin: 15px 0;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .show-animation-btn {
            display: block;
            margin: 10px auto;
            padding: 12px 25px;
            font-size: 1rem;
            background: #ed8936;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .difficulty-selector {
            text-align: center;
            margin: 15px 0;
        }
        
        .difficulty-selector label {
            font-size: 1.1rem;
            margin-right: 10px;
        }
        
        .difficulty-selector select {
            padding: 8px 15px;
            font-size: 1rem;
            border-radius: 5px;
            border: 2px solid #e2e8f0;
        }
        
        .hint-text {
            text-align: center;
            color: #718096;
            font-size: 1rem;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî¢ Math Practice</h1>
            <p>Learn step by step!</p>
        </div>
        
        <div class="mode-selector">
            <button class="mode-btn active" onclick="setMode('decimal')">‚ûï‚ûñ Decimals</button>
            <button class="mode-btn" onclick="setMode('multiply')">‚úñÔ∏è Multiplication</button>
            <button class="mode-btn" onclick="setMode('divide')">‚ûó Division</button>
            <button class="mode-btn" onclick="setMode('decimal_multiply')">üî¢ Decimal √ó</button>
        </div>
        
        <div class="practice-area">
            <div class="difficulty-selector">
                <label>Difficulty:</label>
                <select id="difficulty" onchange="generateProblem()">
                    <option value="easy">Easy</option>
                    <option value="medium" selected>Medium</option>
                    <option value="hard">Hard</option>
                </select>
            </div>
            
            <div class="problem-display">
                <div class="problem" id="problem">12.5 + 3.25 = ?</div>
                <p class="hint-text" id="hint">Enter your answer below</p>
            </div>
            
            <button class="show-animation-btn" onclick="showAnimation()">üëÅÔ∏è Watch How to Solve</button>
            <button class="show-animation-btn" onclick="generateProblem()" style="background: #48bb78; margin-left: 10px;">üîÑ New Problem</button>
            
            <div class="animation-area" id="animationArea"></div>
            
            <div class="input-area">
                <input type="text" class="answer-input" id="answerInput" placeholder="?">
                <button class="submit-btn" onclick="checkAnswer()">Check ‚úÖ</button>
            </div>
            
            <div class="feedback" id="feedback" style="display: none;"></div>
            
            <button class="next-btn" id="nextBtn" style="display: none;" onclick="generateProblem()">Next Problem ‚û°Ô∏è</button>
            
            <div class="score" id="score">Score: 0 / 0</div>
        </div>
    </div>

    <script>
        let currentMode = 'decimal';
        let currentProblem = {};
        let score = { correct: 0, total: 0 };
        let animationTimeout = null;
        
        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(mode === 'decimal' ? 'decimals' : mode === 'multiply' ? 'multiplication' : mode === 'divide' ? 'division' : 'decimal √ó')) {
                    btn.classList.add('active');
                }
            });
            generateProblem();
        }
        
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        function generateDecimalProblem(difficulty) {
            let num1, num2, operator;
            
            if (difficulty === 'easy') {
                num1 = getRandomInt(1, 9) + getRandomInt(1, 9) / 10;
                num2 = getRandomInt(1, 9) + getRandomInt(1, 9) / 10;
                operator = Math.random() > 0.5 ? '+' : '-';
            } else if (difficulty === 'medium') {
                num1 = getRandomInt(10, 99) + getRandomInt(1, 99) / 100;
                num2 = getRandomInt(10, 99) + getRandomInt(1, 99) / 100;
                operator = Math.random() > 0.5 ? '+' : '-';
            } else {
                num1 = getRandomInt(100, 999) + getRandomInt(1, 99) / 100;
                num2 = getRandomInt(100, 999) + getRandomInt(1, 99) / 100;
                operator = Math.random() > 0.5 ? '+' : '-';
            }
            
            // Ensure positive result for subtraction
            if (operator === '-' && num1 < num2) {
                [num1, num2] = [num2, num1];
            }
            
            const answer = operator === '+' ? num1 + num2 : num1 - num2;
            
            return {
                num1: parseFloat(num1.toFixed(2)),
                num2: parseFloat(num2.toFixed(2)),
                operator: operator,
                answer: parseFloat(answer.toFixed(2)),
                type: 'decimal'
            };
        }
        
        function generateMultiplyProblem(difficulty) {
            let num1, num2;
            
            if (difficulty === 'easy') {
                num1 = getRandomInt(11, 20);
                num2 = getRandomInt(2, 9);
            } else if (difficulty === 'medium') {
                num1 = getRandomInt(11, 30);
                num2 = getRandomInt(11, 30);
            } else {
                num1 = getRandomInt(31, 99);
                num2 = getRandomInt(31, 99);
            }
            
            return {
                num1: num1,
                num2: num2,
                operator: '√ó',
                answer: num1 * num2,
                type: 'multiply'
            };
        }
        
        function generateDivideProblem(difficulty) {
            let num1, num2, answer;
            
            // Generate clean division problems (no remainders for simplicity)
            if (difficulty === 'easy') {
                // Simple: divisor 2-9, quotient 2-10
                num2 = getRandomInt(2, 9);
                answer = getRandomInt(2, 10);
                num1 = num2 * answer;
            } else if (difficulty === 'medium') {
                // Medium: divisor 2-12, quotient 11-30
                num2 = getRandomInt(2, 12);
                answer = getRandomInt(11, 30);
                num1 = num2 * answer;
            } else {
                // Hard: divisor 11-25, quotient 20-50
                num2 = getRandomInt(11, 25);
                answer = getRandomInt(20, 50);
                num1 = num2 * answer;
            }
            
            return {
                num1: num1,
                num2: num2,
                operator: '√∑',
                answer: answer,
                type: 'divide'
            };
        }
        
        function generateDecimalMultiplyProblem(difficulty) {
            let num1, num2, decimalPlaces;

            if (difficulty === 'easy') {
                decimalPlaces = 1;
                num1 = getRandomInt(11, 99) / 10;  // 1.1‚Äì9.9
                num2 = getRandomInt(2, 9);
            } else if (difficulty === 'medium') {
                decimalPlaces = 2;
                num1 = getRandomInt(101, 999) / 100;  // 1.01‚Äì9.99
                num2 = getRandomInt(2, 9);
            } else {
                decimalPlaces = 3;
                num1 = getRandomInt(1, 9999) / 1000;  // 0.001‚Äì9.999
                num2 = getRandomInt(2, 9);
            }

            num1 = parseFloat(num1.toFixed(decimalPlaces));
            const answer = parseFloat((num1 * num2).toFixed(decimalPlaces));

            return {
                num1: num1,
                num2: num2,
                operator: '√ó',
                answer: answer,
                type: 'decimal_multiply',
                decimalPlaces: decimalPlaces
            };
        }

        function generateProblem() {
            const difficulty = document.getElementById('difficulty').value;
            
            if (currentMode === 'decimal') {
                currentProblem = generateDecimalProblem(difficulty);
            } else if (currentMode === 'multiply') {
                currentProblem = generateMultiplyProblem(difficulty);
            } else if (currentMode === 'divide') {
                currentProblem = generateDivideProblem(difficulty);
            } else if (currentMode === 'decimal_multiply') {
                currentProblem = generateDecimalMultiplyProblem(difficulty);
            }
            
            document.getElementById('problem').textContent = 
                `${currentProblem.num1} ${currentProblem.operator} ${currentProblem.num2} = ?`;
            document.getElementById('answerInput').value = '';
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('animationArea').innerHTML = '';
            
            if (animationTimeout) clearTimeout(animationTimeout);
        }
        
        function showAnimation() {
            const area = document.getElementById('animationArea');
            area.innerHTML = '';
            
            if (currentProblem.type === 'decimal') {
                showDecimalAnimation();
            } else if (currentProblem.type === 'multiply') {
                showMultiplyAnimation();
            } else if (currentProblem.type === 'divide') {
                showDivideAnimation();
            } else if (currentProblem.type === 'decimal_multiply') {
                showDecimalMultiplyAnimation();
            }
        }
        
        function showDecimalAnimation() {
            const area = document.getElementById('animationArea');
            const { num1, num2, operator, answer } = currentProblem;
            
            // Get raw values
            const n1Val = num1;
            const n2Val = num2;
            
            // Format for display - preserve actual decimal places
            const fmt = (n) => {
                // Convert to string and pad to 2 decimal places
                return n.toFixed(2);
            };
            
            const n1Str = fmt(n1Val);
            const n2Str = fmt(n2Val);
            const width = 8;
            
            let steps = [];
            
            if (operator === '+') {
                // Addition
                steps.push(`üìù ${n1Str} + ${n2Str}`);
                steps.push(``);
                steps.push(`üìù Step 1: Add decimals`);
                steps.push(`   ${n1Str}`);
                steps.push(` + ${n2Str}`);
                steps.push(`   ${'‚îÄ'.repeat(width)}`);
                
                const decSum = Math.round((n1Val % 1 + n2Val % 1) * 100);
                const carry = Math.floor(decSum / 100);
                const newDec = decSum % 100;
                
                if (carry > 0) {
                    steps.push(`   ${Math.round((n1Val%1)*100)} + ${Math.round((n2Val%1)*100)} = ${decSum}`);
                    steps.push(`   Carry ${carry} to ones!`);
                    steps.push(``);
                    steps.push(`üìù Step 2: Add ones + carry`);
                    const onesSum = Math.floor(n1Val) + Math.floor(n2Val) + carry;
                    steps.push(`   ${Math.floor(n1Val)} + ${Math.floor(n2Val)} + ${carry} = ${onesSum}`);
                }
                
                steps.push(``);
                steps.push(`üéØ ${n1Str} + ${n2Str} = ${fmt(answer)}`);
                
            } else {
                // Subtraction
                steps.push(`üìù ${n1Str} - ${n2Str}`);
                steps.push(``);
                
                // Get decimal parts
                const d1 = Math.round((n1Val % 1) * 100);
                const d2 = Math.round((n2Val % 1) * 100);
                const i1 = Math.floor(n1Val);
                const i2 = Math.floor(n2Val);
                
                const needBorrow = d1 < d2;
                
                if (needBorrow) {
                    const newDec = d1 + 100 - d2;
                    const newInt = i1 - 1;
                    
                    steps.push(`üìù Step 1: ${d1} - ${d2}?`);
                    steps.push(`   Not enough! Borrow 1 from ones üëâ`);
                    steps.push(``);
                    steps.push(`üìù Step 2: After borrow`);
                    steps.push(`   ${i1}.${String(d1).padStart(2,'0')}`);
                    steps.push(` - ${i2}.${String(d2).padStart(2,'0')}`);
                    steps.push(`   ${'‚îÄ'.repeat(width)}`);
                    steps.push(`   ${newInt}.${String(newDec).padStart(2,'0')} ‚Üê`);
                    steps.push(``);
                    steps.push(`üìù Step 3: Subtract`);
                    steps.push(`   ${d1} + 100 - ${d2} = ${newDec}`);
                    steps.push(`   ${i1} - 1 - ${i2} = ${newInt - i2}`);
                    steps.push(``);
                } else {
                    steps.push(`üìù Step 1: Subtract decimals`);
                    steps.push(`   ${n1Str}`);
                    steps.push(` - ${n2Str}`);
                    steps.push(`   ${'‚îÄ'.repeat(width)}`);
                    steps.push(`   ${d1} - ${d2} = ${d1 - d2}`);
                    steps.push(``);
                    steps.push(`üìù Step 2: Subtract ones`);
                    steps.push(`   ${i1} - ${i2} = ${i1 - i2}`);
                    steps.push(``);
                }
                
                steps.push(`üéØ ${n1Str} - ${n2Str} = ${fmt(answer)}`);
            }
            
            displayAnimationSteps(steps);
        }
        
        function showMultiplyAnimation() {
            const area = document.getElementById('animationArea');
            const { num1, num2, answer } = currentProblem;
            
            let steps = [];
            const n1Str = num1.toString();
            const n2Str = num2.toString();
            
            steps.push(`üìù ${num1} √ó ${n2Str}`);
            steps.push(``);
            
            // Explain each digit multiplication
            steps.push(`üìù Step 1: Multiply ${n1Str} by each digit of ${n2Str}`);
            steps.push(``);
            
            // For each digit in n2
            let partials = [];
            for (let i = n2Str.length - 1; i >= 0; i--) {
                const digit = parseInt(n2Str[i]);
                const placeValue = Math.pow(10, n2Str.length - 1 - i);
                const product = num1 * digit;
                
                let explanation = `${num1} √ó ${digit}`;
                if (placeValue > 1) {
                    explanation += ` (${digit} is in ${placeValue}s place)`;
                }
                explanation += ` = ${product}`;
                
                steps.push(`   ${explanation}`);
                
                // Add zeros for place value
                let paddedProduct = product.toString() + '0'.repeat(n2Str.length - 1 - i);
                partials.push({ product: product, padded: paddedProduct, place: placeValue });
            }
            
            steps.push(``);
            steps.push(`üìù Step 2: Add zeros for place value`);
            partials.forEach(p => {
                if (p.place > 1) {
                    steps.push(`   ${p.product} ‚Üí add ${n2Str.length - 1} zero(s) ‚Üí ${p.padded}`);
                } else {
                    steps.push(`   ${p.product} ‚Üí no zero needed`);
                }
            });
            
            steps.push(``);
            steps.push(`üìù Step 3: Write and add`);
            
            // Write aligned partials
            let maxLen = 0;
            const alignedPartials = partials.map((p, i) => {
                const s = ' '.repeat(i) + p.padded;
                if (s.length > maxLen) maxLen = s.length;
                return s;
            });
            
            alignedPartials.forEach(p => {
                steps.push(`   ${p}`);
            });
            
            steps.push(`   ${'‚îÄ'.repeat(maxLen)}`);
            
            // Calculate sum
            let sum = 0;
            partials.forEach(p => sum += parseInt(p.padded));
            steps.push(`   ${answer}`);
            
            steps.push(``);
            steps.push(`üéØ ${num1} √ó ${n2Str} = ${answer}`);
            
            displayAnimationSteps(steps);
        }
        
        function showDivideAnimation() {
            const area = document.getElementById('animationArea');
            const { num1: dividend, num2: divisor, answer } = currentProblem;
            
            let steps = [];
            
            steps.push(`üìù ${dividend} √∑ ${divisor}`);
            steps.push(``);
            steps.push(`üìù Long Division`);
            steps.push(``);
            steps.push(`   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ${answer}`);
            steps.push(`   ‚îÇ ${dividend}`);
            steps.push(`   ‚îÇ`);
            
            // Calculate partial quotients
            let remainder = dividend;
            let working = '';
            let current = 0;
            let tempDiv = divisor;
            
            const dividendStr = dividend.toString();
            
            steps.push(`üìù Step 1: Divide ${dividend} by ${divisor}`);
            steps.push(``);
            
            // Simple approach: show the multiplication check
            steps.push(`üìù Step 2: Multiply ${divisor} √ó ${answer}`);
            steps.push(`   ${divisor} √ó ${answer} = ${divisor * answer}`);
            steps.push(``);
            steps.push(`üìù Step 3: Subtract`);
            steps.push(`   ${dividend} - ${divisor * answer} = ${dividend - divisor * answer}`);
            steps.push(``);
            
            if (dividend - divisor * answer === 0) {
                steps.push(`   ‚úÖ Remainder is 0 - Perfect division!`);
            } else {
                steps.push(`   üìù Remainder: ${dividend - divisor * answer}`);
            }
            
            steps.push(``);
            steps.push(`üéØ ${dividend} √∑ ${divisor} = ${answer}`);
            
            displayAnimationSteps(steps);
        }
        
        function showDecimalMultiplyAnimation() {
            const { num1, num2, answer, decimalPlaces } = currentProblem;

            const num1Str = num1.toFixed(decimalPlaces);
            const wholeNum = Math.round(num1 * Math.pow(10, decimalPlaces));
            const wholeProduct = wholeNum * num2;

            let steps = [];

            steps.push(`üìù ${num1Str} √ó ${num2}`);
            steps.push(``);
            steps.push(`üìù Step 1: Ignore the decimal, multiply as whole numbers`);
            steps.push(`   ${num1Str} ‚Üí ${wholeNum}`);
            steps.push(``);
            steps.push(`üìù Step 2: Multiply whole numbers`);
            steps.push(`   ${wholeNum} √ó ${num2} = ${wholeProduct}`);
            steps.push(``);
            steps.push(`üìù Step 3: Count decimal places in original`);
            steps.push(`   ${num1Str} has ${decimalPlaces} decimal place${decimalPlaces > 1 ? 's' : ''}`);
            steps.push(``);
            steps.push(`üìù Step 4: Place the decimal point`);
            steps.push(`   ${wholeProduct} ‚Üí ${answer}`);
            steps.push(`   (move decimal ${decimalPlaces} place${decimalPlaces > 1 ? 's' : ''} from the right)`);
            steps.push(``);
            steps.push(`üéØ ${num1Str} √ó ${num2} = ${answer}`);

            displayAnimationSteps(steps);
        }

        function displayAnimationSteps(steps) {
            const area = document.getElementById('animationArea');
            area.innerHTML = '';
            
            steps.forEach((step, index) => {
                const div = document.createElement('div');
                div.className = 'animation-step';
                div.textContent = step;
                div.style.animationDelay = `${index * 0.8}s`;
                area.appendChild(div);
            });
        }
        
        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById('answerInput').value);
            const feedback = document.getElementById('feedback');
            
            if (isNaN(userAnswer)) {
                feedback.textContent = 'Please enter a number! üìù';
                feedback.className = 'feedback incorrect';
                feedback.style.display = 'block';
                return;
            }
            
            score.total++;
            
            // Check with 2 decimal places for decimals, exact match for others
            const correct = (currentProblem.type === 'decimal' || currentProblem.type === 'decimal_multiply')
                ? Math.abs(userAnswer - currentProblem.answer) < 0.01
                : userAnswer === currentProblem.answer;
            
            if (correct) {
                score.correct++;
                feedback.textContent = 'üéâ Correct! Great job!';
                feedback.className = 'feedback correct';
                playSound('correct');
            } else {
                feedback.innerHTML = `‚ùå Not quite.<br>The answer is ${currentProblem.answer}`;
                feedback.className = 'feedback incorrect';
                playSound('incorrect');
            }
            
            feedback.style.display = 'block';
            document.getElementById('nextBtn').style.display = 'block';
            document.getElementById('score').textContent = 
                `Score: ${score.correct} / ${score.total}`;
        }
        
        function playSound(type) {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                if (type === 'correct') {
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.3);
                } else {
                    oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(150, audioContext.currentTime + 0.2);
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.4);
                }
            } catch (e) {
                console.log('Audio not supported');
            }
        }
        
        // Handle Enter key
        document.getElementById('answerInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
        
        // Initialize
        generateProblem();
    </script>
</body>
</html>
